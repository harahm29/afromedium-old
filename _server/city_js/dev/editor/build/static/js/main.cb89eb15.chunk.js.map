{"version":3,"sources":["ObjectUI.js","ImportOBJ.js","ExportScene.js","ResetScene.js","Menu.js","index.js"],"names":["ObjectUI","_ref","_this","mesh","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggle","setState","state","collapse","changeScale","event","val","target","value","scale","set","userData","changeBuffer","buffer","changeSide","parseInt","side","material","changeShadows","shadows","changeMap","files","length","file","filename","name","reader","FileReader","img","Image","texture","BABYLON","wrapS","wrapT","onload","needsUpdate","addEventListener","src","result","readAsDataURL","map","console","log","changeAlpha","alphaMap","transparent","alpha","changeLightMap","lightMap","lightmap","changeAlphaTest","alphaTest","changeTransparent","changeColor","color","changeCollider","collider","wireframe","changeWireframe","changeOpacity","opacity","changePosX","pos","position","x","changePosY","z","changePosZ","y","changeRotX","rot","rotation","Math","PI","changeRotY","changeRotZ","changeVisible","visisble","visible","count","i","wirframe","react_default","a","createElement","Container","Row","Col","Button","onClick","style","marginBottom","Collapse","isOpen","Card","CardBody","Form","FormGroup","Label","for","Input","type","id","onChange","selected","Component","OBJLoader","ColladaLoader","ImportOBJ","scene","extension","split","pop","toLowerCase","contents","collada","parse","updateMatrixWorld","children","geometry","applyMatrix","matrixWorld","add","ReactDOM","render","src_ObjectUI","key","uuid","document","getElementById","readAsText","object","JSZip","loadAsync","then","zip","async","assets","JSON","geos","textures","jsonloader","total","current","onLoad","mat","data","geo","s","fromArray","undefined","_loop","curAsset","folder","fromGeometry","Uint8Array","blob","Blob","body","appendChild","URL","createObjectURL","readAsBinaryString","alert","className","ExportScene","locTextures","locGeometry","toJSON","metadata","version","generator","parameters","vertices","vertex","push","faces","normals","normalsHash","colors","colorsHash","uvs","uvsHash","uvs2","uvsHash2","face","hasFaceVertexUv","faceVertexUvs","hasFaceVertexUv2","hasFaceNormal","normal","hasFaceVertexNormal","vertexNormals","hasFaceColor","r","g","b","hasFaceVertexColor","vertexColors","faceType","setBit","c","materialIndex","getUvIndex","faceVertexUvs2","getUvIndex2","getNormalIndex","getColorIndex","enabled","hash","toString","getHex","uv","obj","locations","imgList","asset","indexOf","image","base64","fromBufferGeometry","stringify","generateAsync","content","saveAs","ResetScene","Menu","importOBJ","importDAE","setSceneWirframe","sceneWirframe","parent","importDropdownOpen","Navbar","light","expand","addon","aria-label","checked","NavbarToggler","navbar","Nav","NavItem","NavLink","src_ImportOBJ","src_ExportScene","src_ResetScene","OrbitControls","require","objectGroup","App","onWindowResize","camera","aspect","window","innerWidth","innerHeight","updateProjectionMatrix","renderer","setSize","mount","domElement","line","controls","animate","requestAnimationFrame","update","_this2","ref","rootElement","src_App","src_Menu"],"mappings":"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","file":"static/js/main.cb89eb15.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Collapse, Button, CardBody, Card, Container, Row, Col, Form, FormGroup, Label, Input } from 'reactstrap';\nimport * as BABYLON from \"babylon\";\n\nclass ObjectUI extends Component {\n  constructor({ mesh }) {\n    super();\n    //console.log(mesh.userData);\n    let count = 0;\n    var state = {};\n    for (let i in mesh.userData) {\n      count++;\n      state[i] = mesh.userData[i];\n    }\n    this.mesh = mesh;\n    if (count) {\n      this.state = state;\n    }\n    else {\n      this.state = {\n        collapse: false,\n        scale: '1',\n        buffer: '1',\n        side: '0',\n        shadows: false,\n        map: null,\n        alpha: null,\n        lightmap: null,\n        alphaTest: '0',\n        transparent: '0',\n        opacity: '1',\n        color: 'ffffff',\n        collider: '0',\n        wirframe: '0',\n        pos: [0, 0, 0],\n        rot: [0, 0, 0]\n      };\n\n\n      this.mesh.userData = {\n        scale: '1',\n        buffer: '1',\n        side: '0',\n        shadows: false,\n        map: null,\n        alpha: null,\n        lightmap: null,\n        alphaTest: '0',\n        transparent: '0',\n        opacity: '1',\n        color: 'ffffff',\n        collider: '0',\n        wirframe: '0',\n        pos: [0, 0, 0],\n        rot: [0, 0, 0]\n      };\n    }\n\n    this.state.visible = true;\n    //this.updateUserData();\n\n\n    //console.log(mesh);\n\n  }\n\n  toggle = () => {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  changeScale = (event) => {\n    //console.log(event.target.value);\n    let val = event.target.value;\n    this.setState(state => ({ scale: val }));\n    this.mesh.scale.set(val, val, val);\n    this.mesh.userData.scale = val;\n    //this.updateUserData();\n\n  }\n\n  changeBuffer = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ buffer: val }));\n    //this.updateUserData();\n    this.mesh.userData.buffer = val;\n  }\n\n  changeSide = (event) => {\n\n    let val = parseInt(event.target.value);\n\n    this.setState(state => ({ side: val }));\n    this.mesh.material.side = val;\n    //this.updateUserData();\n    this.mesh.userData.side = val;\n\n  }\n\n  changeShadows = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ shadows: val }));\n    //this.updateUserData();\n    this.mesh.userData.shadows = val;\n  }\n\n  changeMap = (event) => {\n\n    let files = event.target.files;\n    if (files.length) {\n      var file = files[0];\n      var filename = file.name;\n      //console.log(file.name);\n      //var extension = filename.split('.').pop().toLowerCase();\n      var reader = new FileReader();\n      let img = new Image();\n      let texture = new BABYLON.Texture(img);\n      texture.wrapS = texture.wrapT = BABYLON.RepeatWrapping;\n\n      img.onload = () => {\n        texture.needsUpdate = true;\n        //console.log(texture);\n      };\n      reader.addEventListener('load', (event) => {\n        img.src = event.target.result;\n\n      }, false);\n      reader.readAsDataURL(file);\n      this.mesh.material.map = texture;\n      this.mesh.material.needsUpdate = true;\n      console.log(file.name);\n      this.setState(state => ({ map: filename }));\n      //this.updateUserData();\n      this.mesh.userData.map = filename;\n      event.target.value = '';\n    }\n\n  }\n\n  changeAlpha = (event) => {\n\n    let files = event.target.files;\n    if (files.length) {\n      var file = files[0];\n      var filename = file.name;\n      //console.log(file.name);\n      //var extension = filename.split('.').pop().toLowerCase();\n      var reader = new FileReader();\n      let img = new Image();\n      let texture = new BABYLON.Texture(img);\n      texture.wrapS = texture.wrapT = BABYLON.RepeatWrapping;\n\n      img.onload = () => {\n        texture.needsUpdate = true;\n        //console.log(texture);\n      };\n      reader.addEventListener('load', (event) => {\n        img.src = event.target.result;\n\n      }, false);\n      reader.readAsDataURL(file);\n      this.mesh.material.alphaMap = texture;\n      this.mesh.material.transparent = true;\n      this.mesh.material.needsUpdate = true;\n\n      this.setState(state => ({ alpha: filename }));\n      this.setState(state => ({ transparent: '1' }));\n      //this.updateUserData();\n      this.mesh.userData.alpha = filename;\n      this.mesh.userData.transparent = '1';\n      event.target.value = '';\n    }\n  }\n\n  changeLightMap = (event) => {\n\n    let files = event.target.files;\n    if (files.length) {\n      var file = files[0];\n      var filename = file.name;\n      //console.log(file.name);\n      //var extension = filename.split('.').pop().toLowerCase();\n      var reader = new FileReader();\n      let img = new Image();\n      let texture = new BABYLON.Texture(img);\n      texture.wrapS = texture.wrapT = BABYLON.RepeatWrapping;\n\n      img.onload = () => {\n        texture.needsUpdate = true;\n        //console.log(texture);\n      };\n      reader.addEventListener('load', (event) => {\n        img.src = event.target.result;\n\n      }, false);\n      reader.readAsDataURL(file);\n      this.mesh.material.lightMap = texture;\n      this.mesh.material.needsUpdate = true;\n\n      this.setState(state => ({ lightMap: filename }));\n      //this.updateUserData();\n      //console.log(this.state);\n      this.mesh.userData.lightmap = filename;\n      event.target.value = '';\n    }\n  }\n\n  changeAlphaTest = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ alphaTest: val }));\n    this.mesh.material.alphaTest = val;\n    //this.updateUserData();\n    this.mesh.userData.alphaTest = val;\n\n  }\n\n  changeTransparent = (event) => {\n    let val = parseInt(event.target.value);\n    this.setState(state => ({ transparent: val }));\n    this.mesh.material.transparent = (val || this.state.alpha) ? true : false;\n    this.mesh.material.needsUpdate = true;\n    //console.log(this.mesh.material.transparent, val,  this.state.alpha, (val || this.state.alpha));\n    //this.updateUserData();\n    this.mesh.userData.transparent = val;\n\n  }\n\n\n  changeColor = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ color: val }));\n    this.mesh.material.color.set(parseInt(val, 16));\n    //this.updateUserData();\n    this.mesh.userData.color = val;\n\n  }\n\n  changeCollider = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ collider: val }));\n    if (val === '1') {\n      this.setState(state => ({ buffer: '0' }));\n    }\n    else {\n      this.setState(state => ({ buffer: '1' }));\n    }\n\n\n    this.mesh.material.wireframe = (val == '1') ? true : false;\n\n    this.mesh.material.needsUpdate = true;\n    //this.updateUserData();\n    this.mesh.userData.collider = val;\n\n  }\n\n  changeWireframe = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ wireframe: val }));\n\n\n    this.mesh.material.wireframe = (val === '1' || this.state.collider == '1') ? true : false;\n\n    this.mesh.material.needsUpdate = true;\n    //this.updateUserData();\n    this.mesh.userData.wireframe = val;\n\n  }\n\n  changeOpacity = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ opacity: val }));\n    this.mesh.material.opacity = val;\n    //this.updateUserData();\n    this.mesh.userData.opacity = val;\n\n  }\n\n\n\n  changePosX = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ pos: [val, this.state.pos[1], this.state.pos[2]] }));\n    this.mesh.position.x = val;\n    //this.updateUserData();\n    this.mesh.userData.pos[0] = val;\n\n  }\n\n  changePosY = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ pos: [this.state.pos[0], val, this.state.pos[2]] }));\n    this.mesh.position.z = val;\n    //this.updateUserData();\n    this.mesh.userData.pos[1] = val;\n\n  }\n\n  changePosZ = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ pos: [this.state.pos[0], this.state.pos[1], val] }));\n    this.mesh.position.y = val;\n    //this.updateUserData();\n    this.mesh.userData.pos[2] = val;\n\n  }\n\n  changeRotX = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ rot: [val, this.state.rot[1], this.state.rot[2]] }));\n    this.mesh.rotation.x = val / 180 * Math.PI;\n    //this.updateUserData();\n    this.mesh.userData.rot[0] = val;\n\n  }\n\n  changeRotY = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ pos: [this.state.rot[0], val, this.state.rot[2]] }));\n    this.mesh.rotation.y = val / 180 * Math.PI;\n    //this.updateUserData();\n    this.mesh.userData.rot[1] = val;\n\n  }\n\n  changeRotZ = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ pos: [this.state.rot[0], this.state.rot[1], val] }));\n    this.mesh.rotation.z = val / 180 * Math.PI;\n    //this.updateUserData();\n    this.mesh.userData.rot[2] = val;\n  }\n\n  changeVisible = (event) => {\n    let val = event.target.value;\n    this.setState(state => ({ visisble: val }));\n    this.mesh.visible = (val == '1') ? true : false;\n    //console.log(this.mesh.visible);\n  }\n\n\n  render() {\n    //console.log(this.state.transparent);\n    return (\n      <div>\n        <Container>\n          <Row>\n            <Col>{this.mesh.name}</Col>\n            <Col>  <Button color=\"primary\" onClick={this.toggle} style={{ marginBottom: '1rem' }}>Options</Button></Col>\n          </Row>\n        </Container>\n\n        <Collapse isOpen={this.state.collapse}>\n          <Card>\n            <CardBody>\n              <Form>\n                <FormGroup>\n                  <Label for=\"buffer\">Visible</Label>\n                  <Input type=\"select\" name=\"visible\" id=\"buffer\" onChange={this.changeVisible}>\n                    <option selected={this.state.visisble == '1'}>1</option>\n                    <option selected={this.state.visisble == '0'}>0</option>\n\n\n                  </Input>\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"scale\">Scale</Label>\n                  <Input name=\"scale\" id=\"scale\" value={this.state.scale} onChange={this.changeScale} />\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"buffer\">BufferGeometry</Label>\n                  <Input type=\"select\" name=\"buffer\" id=\"buffer\" onChange={this.changeBuffer}>\n                    <option selected={this.state.buffer == '1'}>1</option>\n                    <option selected={this.state.buffer == '0'}>0</option>\n\n\n                  </Input>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"side\">Face Side</Label>\n                  <Input type=\"select\" name=\"side\" id=\"side\" onChange={this.changeSide}>\n                    <option>0</option>\n                    <option>1</option>\n                    <option>2</option>\n                  </Input>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"shadows\">Floor (shadows)</Label>\n                  <Input type=\"select\" name=\"shadows\" id=\"shadows\" onChange={this.changeShadows}>\n                    <option>0</option>\n                    <option>1</option>\n                  </Input>\n                </FormGroup>\n\n\n                <FormGroup>\n                  <Label for=\"map\">Diffuse map</Label>\n                  <Row>\n                    <Col ><Input type=\"file\" name=\"map\" id=\"map\" onChange={this.changeMap} style={{ color: 'transparent' }} /></Col>\n                    <Col>{this.mesh.userData.map}</Col>\n                  </Row>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"alpha\">Alpha map</Label>\n                  <Row>\n                    <Col >\n                      <Input type=\"file\" name=\"alpha\" id=\"alpha\" onChange={this.changeAlpha} style={{ color: 'transparent' }}  /></Col>\n                    <Col>{this.mesh.userData.alpha}</Col>\n                  </Row>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"light\">Light map</Label>\n                  <Row>\n                    <Col >\n                  <Input type=\"file\" name=\"light\" id=\"light\" onChange={this.changeLightMap} style={{ color: 'transparent' }}  /></Col>\n                    <Col>{this.mesh.userData.lightmap}</Col>\n                  </Row>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"alphaTest\">alphaTest</Label>\n                  <Input name=\"alphaTest\" id=\"alphaTest\" value={this.state.alphaTest} onChange={this.changeAlphaTest} />\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"transparent\">Transparent</Label>\n                  <Input type=\"select\" name=\"transparent\" id=\"transparent\" onChange={this.changeTransparent}>\n                    <option selected={this.state.transparent == '0'}>0</option>\n                    <option selected={this.state.transparent == '1'}>1</option>\n                  </Input>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"opacity\">Opacity</Label>\n                  <Input name=\"scale\" id=\"scale\" value={this.state.opacity} onChange={this.changeOpacity} />\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"color\">Color</Label>\n                  <Input name=\"color\" id=\"color\" value={this.state.color} onChange={this.changeColor} />\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"collider\">Collider</Label>\n                  <Input type=\"select\" name=\"collider\" id=\"collider\" onChange={this.changeCollider}>\n                    <option>0</option>\n                    <option>1</option>\n                  </Input>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"wireframe\">Wireframe</Label>\n                  <Input type=\"select\" name=\"wireframe\" id=\"wireframe\" onChange={this.changeWireframe}>\n                    <option>0</option>\n                    <option>1</option>\n                  </Input>\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"pos\">Position</Label>\n                  <Input name=\"posX\" id=\"posX\" value={this.state.pos[0]} onChange={this.changePosX} />\n                  <Input name=\"posY\" id=\"posY\" value={this.state.pos[1]} onChange={this.changePosY} />\n                  <Input name=\"posZ\" id=\"posZ\" value={this.state.pos[2]} onChange={this.changePosZ} />\n                </FormGroup>\n\n                <FormGroup>\n                  <Label for=\"pos\">Rotation</Label>\n                  <Input name=\"rotX\" id=\"rotX\" value={this.state.rot[0]} onChange={this.changeRotX} />\n                  <Input name=\"rotY\" id=\"rotY\" value={this.state.rot[1]} onChange={this.changeRotY} />\n                  <Input name=\"rotZ\" id=\"rotZ\" value={this.state.rot[2]} onChange={this.changeRotZ} />\n                </FormGroup>\n\n\n\n              </Form>\n            </CardBody>\n          </Card>\n        </Collapse>\n\n      </div>\n    )\n  }\n}\n\nexport default ObjectUI;\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ObjectUI from './ObjectUI';\nimport * as BABYLON from \"babylon\";\nimport * as OBJLoader from 'babylon-obj-loader';\nimport * as ColladaLoader from 'babylon-collada-loader';\nimport './index.css';\nimport JSZip from \"jszip\";\n\nOBJLoader(BABYLON);\nColladaLoader(BABYLON);\n\nclass ImportOBJ extends Component {\n    constructor({ scene }) {\n        super();\n\n        this.scene = scene;\n\n    }\n\n    toggle = (event) => {\n        //console.log(event);\n        let files = event.target.files;\n        if (files.length) {\n            var file = files[0];\n            var filename = file.name;\n            var extension = filename.split('.').pop().toLowerCase();\n            var reader = new FileReader();\n            //console.log(this.scene);\n            let scene = this.scene;\n\n            switch (extension) {\n                case 'dae':\n\n                    reader.addEventListener('load', (event) => {\n\n                        var contents = event.target.result;\n                        this.BABYLON = BABYLON;\n\n                        var loader = new ColladaLoader();\n                        var collada = loader.parse(contents);\n\n                        collada.scene.name = filename;\n                        //console.log(collada);\n                        //this.scene.add(collada.scene);\n                        collada.scene.scale.set(1,1,1);\n                        collada.scene.updateMatrixWorld(true);\n                        for (let i in collada.scene.children) {\n                            collada.scene.children[i].children[0].material = new BABYLON.MeshBasicMaterial();\n                            collada.scene.children[i].children[0].name = collada.scene.children[i].name;\n                            //let pos = collada.scene.children[i].position;\n                            //console.log(pos);\n                            //collada.scene.children[i].children[0].position.copy(collada.scene.children[i].position);\n                            //collada.scene.children[i].children[0].geometry.translate(pos.x, pos.y, pos.z);\n                            collada.scene.children[i].children[0].geometry.applyMatrix(collada.scene.children[i].children[0].matrixWorld);\n\n                            collada.scene.children[i].children[0].position.set(0,0,0);\n                            collada.scene.children[i].children[0].rotation.set(0,0,0);\n                            collada.scene.children[i].children[0].scale.set(1,1,1);\n\n                            //console.log(collada.scene.children[i].children[0].position);\n\n                            //collada.scene.children[i].children[0].rotation.copy(collada.scene.children[i].rotation);\n                            //collada.scene.children[i].children[0].geometry.rotateX(collada.scene.children[i].rotation.x);\n                            //collada.scene.children[i].children[0].geometry.rotateY(collada.scene.children[i].rotation.y);\n                            //collada.scene.children[i].children[0].geometry.rotateZ(collada.scene.children[i].rotation.z);\n\n\n                            this.scene.add(collada.scene.children[i].children[0]);\n                        }\n                        //console.log(collada.scene.children);\n\n                        ReactDOM.render(\n                            <div>\n                                {\n                                    this.scene.children.map((mesh) => {\n\n                                        return (<ObjectUI key={mesh.uuid} mesh={mesh} />);\n                                    })\n                                }\n                            </div>, document.getElementById(\"ui\"));\n\n\n\n                    }, false);\n\n                    reader.readAsText(file);\n\n                    break;\n\n                case 'obj':\n\n                    reader.addEventListener('load', (event) => {\n\n                        var contents = event.target.result;\n                        //console.log( BABYLON.OBJLoader );\n                        this.BABYLON = BABYLON;\n                        var object = new this.BABYLON.OBJLoader().parse(contents);\n                        object.name = filename;\n\n                        //this.scene.add(object);\n                        //console.log(object);\n\n                        for (let i in object.children) {\n                            object.children[i].material = new BABYLON.MeshBasicMaterial();\n                            this.scene.add(object.children[i]);\n                        }\n                        ReactDOM.render(\n                            <div>\n                                {\n                                    this.scene.children.map((mesh) => {\n\n                                        return (<ObjectUI key={mesh.uuid} mesh={mesh} />);\n                                    })\n                                }\n                            </div>, document.getElementById(\"ui\"));\n\n                        //console.log(object);\n\n                    }, false);\n                    reader.readAsText(file);\n\n                    break;\n\n                case 'zip':\n                    reader.addEventListener('load', (event) => {\n                        let zip = new JSZip();\n                        zip.loadAsync(event.target.result)\n                            .then(function (zip) {\n                                zip.file('assets.js').async(\"string\").then(function (value) {\n                                    //console.log(value);\n                                    let assets = JSON.parse(value);\n                                    console.log(assets);\n                                    let geos = {};\n                                    let textures = {};\n                                    let jsonloader = new BABYLON.JSONLoader();\n                                    let total = 0;\n                                    let current = 0;\n                                    let onLoad = function () {\n                                        if (current == total) {\n                                            for (let i in assets) {\n                                                let mat = new BABYLON.MeshBasicMaterial();\n                                                let data = {\n                                                    color: 'ffffff',\n                                                    scale: assets[i].scale,\n                                                    buffer: (assets[i].buffer) ? '1' : '0',\n                                                    side: assets[i].side,\n                                                    shadows: (assets[i].shadows) ? '1' : '0',\n                                                    alphaTest: assets[i].alphaTest || '0',\n                                                    transparent: (assets[i].transparent) ? '1' : '0',\n                                                    opacity: assets[i].opacity,\n                                                    collider: (assets[i].collider) ? '1' : '0',\n                                                    wirframe: (assets[i].wirframe) ? '1' : '0',\n                                                    pos: assets[i].pos,\n                                                    rot: assets[i].rot\n                                                };\n\n                                                if (assets[i].map) {\n                                                    mat.map = textures[assets[i].map];\n                                                    data.map = assets[i].map;\n                                                }\n\n                                                if (assets[i].alpha) {\n                                                    mat.alphaMap = textures[assets[i].alpha];\n                                                    data.alpha = assets[i].alpha;\n                                                }\n\n                                                if (assets[i].lightmap) {\n                                                    mat.lightMap = textures[assets[i].lightmap];\n                                                    data.lightmap = assets[i].lightmap;\n                                                }\n\n                                                let mesh = new BABYLON.Mesh(geos[assets[i].geo], mat);\n\n                                                //console.log();\n                                                mesh.userData = data;\n\n                                                if (assets[i].alphaTest) {\n                                                    mat.alphaTest = assets[i].alphaTest;\n                                                }\n\n                                                if (assets[i].transparent) {\n                                                    mat.transparent = true;\n                                                }\n\n                                                if (assets[i].collider || assets[i].wireframe) {\n                                                    mat.wireframe = true\n                                                }\n\n                                                if (assets[i].side) {\n                                                    mat.side = assets[i].side;\n                                                }\n\n                                                if (assets[i].scale) {\n                                                    let s = assets[i].scale;\n                                                    mesh.scale.set(s, s, s);\n                                                }\n\n                                                let pos = data.pos;\n                                                mesh.position.fromArray(pos);\n\n                                                let rot = assets[i].rot;\n                                                mesh.rotation.x = rot[0] / 180 * Math.PI;\n                                                mesh.rotation.y = rot[1] / 180 * Math.PI;\n                                                mesh.rotation.z = rot[2] / 180 * Math.PI;\n\n                                                if (assets[i].opacity !== undefined) {\n                                                    mat.opacity = assets[i].opacity;\n                                                }\n\n\n                                                mesh.name = i;\n                                                scene.add(mesh);\n                                                //scope.scene.add(mesh);\n\n                                            }\n                                            //console.log(scene);\n\n                                            ReactDOM.render(\n                                                <div>\n                                                    {\n                                                        scene.children.map((mesh) => {\n\n                                                            return (<ObjectUI key={mesh.uuid} mesh={mesh} />);\n                                                        })\n                                                    }\n                                                </div>, document.getElementById(\"ui\"));\n                                        }\n                                        \n                                    };\n                                    for (let i in assets) {\n                                        total++;\n                                        let curAsset = assets[i];\n                                        zip.folder('geometry').folder('loc').file(assets[i].geo).async('string').then(function (value) {\n                                            current++;\n                                            let geo = jsonloader.parse(JSON.parse(value));\n                                            geos[curAsset.geo] = new BABYLON.BufferGeometry();\n                                            geos[curAsset.geo].fromGeometry(geo.geometry);\n                                            //console.log(geo);\n\n                                            onLoad();\n                                        });\n\n                                        if (assets[i].map) {\n                                            total++;\n                                            zip.folder('textures').folder('loc')\n                                                .file(assets[i].map).async('arraybuffer').then(function (value) {\n                                                    let buffer = new Uint8Array(value);\n                                                    let blob = new Blob([buffer.buffer]);\n                                                    let img = new Image;\n                                                    img.onload = function () {\n                                                        current++;\n                                                        onLoad();\n                                                        document.body.appendChild(this);\n                                                    }\n                                                    img.src = URL.createObjectURL(blob);\n                                                    textures[curAsset.map] = new BABYLON.Texture(img);\n                                                    textures[curAsset.map].needsUpdate = true;\n                                                    textures[curAsset.map].wrapS = textures[curAsset.map].wrapT = BABYLON.RepeatWrapping;\n                                                    textures[curAsset.map].blob = blob;\n\n                                                });\n                                        }\n\n                                        if (assets[i].alpha) {\n                                            total++;\n                                            zip.folder('textures').folder('loc')\n                                                .file(assets[i].alpha).async('arraybuffer').then(function (value) {\n                                                    let buffer = new Uint8Array(value);\n                                                    let blob = new Blob([buffer.buffer]);\n                                                    let img = new Image;\n                                                    img.onload = function () {\n                                                        current++;\n                                                        onLoad();\n                                                        document.body.appendChild(this);\n                                                    }\n                                                    img.src = URL.createObjectURL(blob);\n                                                    textures[curAsset.alpha] = new BABYLON.Texture(img);\n                                                    textures[curAsset.alpha].needsUpdate = true;\n                                                    textures[curAsset.alpha].wrapS = textures[curAsset.alpha].wrapT = BABYLON.RepeatWrapping;\n                                                    textures[curAsset.alpha].blob = blob;\n\n                                                });\n                                        }\n\n                                        if (assets[i].lightmap) {\n                                            total++;\n                                            zip.folder('textures').folder('loc')\n                                                .file(assets[i].lightmap).async('arraybuffer').then(function (value) {\n                                                    let buffer = new Uint8Array(value);\n                                                    let blob = new Blob([buffer.buffer]);\n                                                    let img = new Image;\n                                                    img.onload = function () {\n                                                        current++;\n                                                        onLoad();\n                                                        document.body.appendChild(this);\n                                                    }\n                                                    img.src = URL.createObjectURL(blob);\n                                                    textures[curAsset.lightmap] = new BABYLON.Texture(img);\n                                                    textures[curAsset.lightmap].needsUpdate = true;\n                                                    textures[curAsset.lightmap].wrapS = textures[curAsset.lightmap].wrapT = BABYLON.RepeatWrapping;\n                                                    textures[curAsset.lightmap].blob = blob;\n\n                                                });\n                                        }\n\n                                    }\n                                });\n                                // you now have every files contained in the loaded zip\n                                //new_zip.file(\"hello.txt\").async(\"string\"); // a promise of \"Hello World\\n\"\n                            });\n                    }, false);\n                    reader.readAsBinaryString(file);\n\n                    break;\n                default:\n                    alert('bad format');\n                    break;\n            }\n            event.target.value = '';\n           \n        }\n    }\n\n    render() {\n        return (\n            <label>Import<input type=\"file\" name=\"file\" onChange={this.toggle} className=\"hidden\" /></label>\n\n        )\n    }\n}\n\nexport default ImportOBJ;\n\n\n","import React, { Component } from \"react\";\nimport JSZip from \"jszip\";\nimport * as BABYLON from \"babylon\";\nimport { saveAs } from '@progress/kendo-file-saver';\n\nclass ExportScene extends Component {\n    constructor({ scene }) {\n        super();\n\n        this.scene = scene;\n\n    }\n\n    toggle = (event) => {\n        let zip = new JSZip();\n        let textures = zip.folder(\"textures\");\n        let locTextures = textures.folder('loc');\n        let geometry = zip.folder(\"geometry\");\n        let locGeometry = geometry.folder(\"loc\");\n\n        let toJSON = function () {\n\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Geometry',\n                    generator: 'Geometry.toJSON'\n                }\n            };\n\n            // standard Geometry serialization\n\n            data.uuid = this.uuid;\n            data.type = this.type;\n            if (this.name !== '') data.name = this.name;\n\n            if (this.parameters !== undefined) {\n\n                var parameters = this.parameters;\n\n                for (var key in parameters) {\n\n                    if (parameters[key] !== undefined) data[key] = parameters[key];\n\n                }\n\n                return data;\n\n            }\n\n            var vertices = [];\n\n            for (var i = 0; i < this.vertices.length; i++) {\n\n                var vertex = this.vertices[i];\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n            }\n\n            var faces = [];\n            var normals = [];\n            var normalsHash = {};\n            var colors = [];\n            var colorsHash = {};\n            var uvs = [];\n            var uvsHash = {};\n            var uvs2 = [];\n            var uvsHash2 = {};\n\n            for (var i = 0; i < this.faces.length; i++) {\n\n                var face = this.faces[i];\n\n                var hasMaterial = true;\n                var hasFaceUv = false; // deprecated\n                var hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;\n                var hasFaceVertexUv2 = this.faceVertexUvs[1] !== undefined;\n                var hasFaceNormal = face.normal.length() > 0;\n                var hasFaceVertexNormal = face.vertexNormals.length > 0;\n                var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n                var hasFaceVertexColor = face.vertexColors.length > 0;\n\n                var faceType = 0;\n\n                faceType = setBit(faceType, 0, 0); // isQuad\n                faceType = setBit(faceType, 1, hasMaterial);\n                faceType = setBit(faceType, 2, hasFaceUv);\n                faceType = setBit(faceType, 3, hasFaceVertexUv);\n                faceType = setBit(faceType, 4, hasFaceNormal);\n                faceType = setBit(faceType, 5, hasFaceVertexNormal);\n                faceType = setBit(faceType, 6, hasFaceColor);\n                faceType = setBit(faceType, 7, hasFaceVertexColor);\n\n                faces.push(faceType);\n                faces.push(face.a, face.b, face.c);\n                faces.push(face.materialIndex);\n\n                if (hasFaceVertexUv) {\n\n                    var faceVertexUvs = this.faceVertexUvs[0][i];\n\n                    faces.push(\n                        getUvIndex(faceVertexUvs[0]),\n                        getUvIndex(faceVertexUvs[1]),\n                        getUvIndex(faceVertexUvs[2])\n                    );\n\n                }\n\n                if (hasFaceVertexUv2) {\n\n                    var faceVertexUvs2 = this.faceVertexUvs[1][i];\n\n                    faces.push(\n                        getUvIndex2(faceVertexUvs2[0]),\n                        getUvIndex2(faceVertexUvs2[1]),\n                        getUvIndex2(faceVertexUvs2[2])\n                    );\n\n                }\n                else {\n                    console.log('no uv2');\n                }\n\n                if (hasFaceNormal) {\n\n                    faces.push(getNormalIndex(face.normal));\n\n                }\n\n                if (hasFaceVertexNormal) {\n\n                    var vertexNormals = face.vertexNormals;\n\n                    faces.push(\n                        getNormalIndex(vertexNormals[0]),\n                        getNormalIndex(vertexNormals[1]),\n                        getNormalIndex(vertexNormals[2])\n                    );\n\n                }\n\n                if (hasFaceColor) {\n\n                    faces.push(getColorIndex(face.color));\n\n                }\n\n                if (hasFaceVertexColor) {\n\n                    var vertexColors = face.vertexColors;\n\n                    faces.push(\n                        getColorIndex(vertexColors[0]),\n                        getColorIndex(vertexColors[1]),\n                        getColorIndex(vertexColors[2])\n                    );\n\n                }\n\n            }\n\n            function setBit(value, position, enabled) {\n\n                return enabled ? value | (1 << position) : value & (~(1 << position));\n\n            }\n\n            function getNormalIndex(normal) {\n\n                var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n                if (normalsHash[hash] !== undefined) {\n\n                    return normalsHash[hash];\n\n                }\n\n                normalsHash[hash] = normals.length / 3;\n                normals.push(normal.x, normal.y, normal.z);\n\n                return normalsHash[hash];\n\n            }\n\n            function getColorIndex(color) {\n\n                var hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n                if (colorsHash[hash] !== undefined) {\n\n                    return colorsHash[hash];\n\n                }\n\n                colorsHash[hash] = colors.length;\n                colors.push(color.getHex());\n\n                return colorsHash[hash];\n\n            }\n\n            function getUvIndex(uv) {\n\n                var hash = uv.x.toString() + uv.y.toString();\n\n                if (uvsHash[hash] !== undefined) {\n\n                    return uvsHash[hash];\n\n                }\n\n                uvsHash[hash] = uvs.length / 2;\n                uvs.push(uv.x, uv.y);\n\n                return uvsHash[hash];\n\n            }\n\n            function getUvIndex2(uv) {\n\n                var hash = uv.x.toString() + uv.y.toString();\n\n                if (uvsHash2[hash] !== undefined) {\n\n                    return uvsHash2[hash];\n\n                }\n\n                uvsHash2[hash] = uvs2.length / 2;\n                uvs2.push(uv.x, uv.y);\n\n                return uvsHash2[hash];\n\n            }\n\n            data.data = {};\n\n            data.data.vertices = vertices;\n            data.data.normals = normals;\n            if (colors.length > 0) data.data.colors = colors;\n            if (uvs.length > 0) data.data.uvs = [uvs]; // temporal backward compatibility\n            if (uvs2.length > 0) data.data.uvs.push(uvs2);\n            console.log(uvs2);\n            data.data.faces = faces;\n\n            return data;\n\n        };\n\n\n        let assets = {};\n        let obj = [];\n        let locations = {\n            obj: obj,\n            z: 20\n        };\n        let imgList = [];\n        for (let i in this.scene.children) {\n            let mesh = this.scene.children[i];\n            let data = mesh.userData;\n            let asset = {};\n            asset.scale = data.scale;\n            asset.geo = mesh.name + '.js';\n            asset.buffer = data.buffer === '1' ? true : false;\n            //console.log(data.map);\n            if (data.map) {\n                asset.map = data.map;\n                if (imgList.indexOf(data.map) === -1) {\n                    imgList.push(data.map);\n                    if (mesh.material.map.image.src.indexOf('blob') !== -1) {\n                        locTextures.file(data.map, mesh.material.map.blob);\n                    }\n                    else {\n                        let img = mesh.material.map.image.src.split(',');\n                        //console.log(img);\n                        locTextures.file(data.map, img[1], { base64: true });\n                    }\n                }\n\n            }\n\n            if (data.alpha) {\n                asset.alpha = data.alpha;\n                if (imgList.indexOf(data.alpha) === -1) {\n                    imgList.push(data.alpha);\n                    if (mesh.material.alphaMap.image.src.indexOf('blob') !== -1) {\n                        locTextures.file(data.alpha, mesh.material.alphaMap.blob);\n                    }\n                    else {\n                        let img = mesh.material.alphaMap.image.src.split(',');\n                        locTextures.file(data.alpha, img[1], { base64: true });\n                    }\n                }\n            }\n\n            if (data.lightmap) {\n                asset.lightmap = data.lightmap;\n                if (imgList.indexOf(data.lightmap) === -1) {\n                    imgList.push(data.lightmap);\n                    if (mesh.material.lightMap.image.src.indexOf('blob') !== -1) {\n                        locTextures.file(data.lightmap, mesh.material.lightMap.blob);\n                    }\n                    else {\n                        let img = mesh.material.lightMap.image.src.split(',');\n                        locTextures.file(data.lightmap, img[1], { base64: true });\n                    }\n                }\n            }\n\n            asset.side = parseInt(data.side);\n            if (data.shadows === '1') {\n                asset.shadows = true;\n            }\n\n            if (data.alphaTest > 0) {\n                asset.alphaTest = data.alphaTest;\n            }\n            if (data.transparent === '1') {\n                asset.transparent = true;\n            }\n\n            asset.opacity = data.opacity;\n\n            asset.color = parseInt(data.color, '16');\n            if (data.collider === '1') {\n                asset.collider = true;\n            }\n\n            if (data.wirframe === '1') {\n                asset.wirframe = true;\n            }\n\n            asset.pos = data.pos;\n            asset.rot = data.rot;\n\n            assets[mesh.name] = asset;\n            obj.push({ id: mesh.name });\n\n            let geo;\n\n            if (mesh.geometry.type === 'BufferGeometry') {\n                geo = new BABYLON.Geometry();\n                geo.fromBufferGeometry(mesh.geometry);\n            }\n            else {\n                geo = mesh.geometry;\n            }\n            //console.log(mesh.geometry, geo);\n            geo.toJSON = toJSON;\n\n            locGeometry.file(mesh.name + '.js', JSON.stringify(geo.toJSON().data));\n\n\n\n        }\n        zip.file('assets.js', JSON.stringify(assets));\n        zip.file('locations.js', JSON.stringify(locations));\n\n        zip.generateAsync({ type: \"blob\" })\n            .then(function (content) {\n                saveAs(content, \"export.zip\");\n\n            });\n\n\n    }\n\n    render() {\n        return (<div onClick={this.toggle} > Export </div>\n\n        )\n    }\n}\n\nexport default ExportScene;","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nclass ResetScene extends Component {\n    constructor({ scene }) {\n        super();\n\n        this.scene = scene;\n\n    }\n\n    toggle = (event) => {\n        ReactDOM.render(<div></div>, document.getElementById(\"ui\"));\n        this.scene.children = [];\n\n    }\n\n    render() {\n        return ( <div onClick ={this.toggle} >Reset</div>\n\n        )\n    }\n}\n\nexport default ResetScene;","import React, { Component } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ImportOBJ from \"./ImportOBJ\";\nimport ExportScene from \"./ExportScene\";\nimport ResetScene from \"./ResetScene\"\n\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  Nav,\n  NavItem,\n  NavLink,\n  InputGroup, InputGroupAddon, InputGroupText, Input\n} from 'reactstrap';\n\nclass Menu extends Component {\n  constructor({ scene }) {\n    super();\n    this.state = {\n      importDropdownOpen: false,\n      sceneWirframe: true\n    };\n    this.scene = scene;\n    //console.log(scene);\n\n  }\n\n  importOBJ = () => {\n    console.log('import obj');\n  }\n\n  importDAE = () => {\n    console.log('import DAE');\n  }\n\n  toggle = () => {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar color=\"light\" light expand=\"md\">\n          <label>\n            <Input addon type=\"checkbox\" aria-label=\"Show scene wirframe\" checked={this.state.sceneWirframe} onChange={this.setSceneWirframe}/>\n            Show scene wirframe\n          </label>\n\n          <NavbarToggler onClick={this.toggle} />\n          <Collapse isOpen={this.state.isOpen} navbar>\n            <Nav className=\"ml-auto\" navbar>\n\n              <NavItem>\n                <NavLink>  <ImportOBJ scene={this.scene} /></NavLink>\n              </NavItem>\n\n\n              <NavItem>\n                <NavLink ><ExportScene scene={this.scene} /></NavLink>\n              </NavItem>\n\n              <NavItem>\n                <NavLink ><ResetScene scene={this.scene} /></NavLink>\n              </NavItem>\n            </Nav>\n          </Collapse>\n        </Navbar>\n      </div>\n    )\n  }\n\n  setSceneWirframe = () => {\n    this.setState({\n      sceneWirframe: !this.state.sceneWirframe\n    });\n    this.scene.parent.children[1].visible = !this.state.sceneWirframe;\n    console.log( this.scene.parent.children, this.state.sceneWirframe);\n  }\n}\n\nexport default Menu;\n","import React, { Component}  from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './index.css';\nimport * as BABYLON from \"babylon\";\nimport  Menu from './Menu';\n\n\n\n\nconst OrbitControls = require(\"babylon-orbit-controls\")(BABYLON);\n\n\nvar scene = new BABYLON.Scene(), objectGroup = new BABYLON.Group();\nscene.add(objectGroup);\n\nclass App extends Component {\n    componentDidMount() {\n      var camera = new BABYLON.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 1, 30000 );\n      this.camera = camera;\n      var renderer = new BABYLON.WebGLRenderer();\n      this.renderer = renderer;\n      renderer.setSize( window.innerWidth, window.innerHeight );\n      this.mount.appendChild( renderer.domElement );\n     \n      camera.position.z = 150;\n      camera.position.y = 150;\n      var size = 2500,\n      step = 50;\n      var geometry = new BABYLON.Geometry();\n     for (var i = -size; i <= size; i += step) {\n         geometry.vertices.push(new BABYLON.Vector3(-size, 0, i));\n         geometry.vertices.push(new BABYLON.Vector3(size, 0, i));\n         geometry.vertices.push(new BABYLON.Vector3(i, 0, -size));\n         geometry.vertices.push(new BABYLON.Vector3(i, 0, size));\n     }\n     var material = new BABYLON.LineBasicMaterial({ color: 0xffffff, opacity: 0.5, transparent: true });\n     var line = new BABYLON.LineSegments(geometry, material);\n     scene.add(line);\n\n     \n      const controls = new OrbitControls( camera, renderer.domElement );\n      var animate = function () {\n        requestAnimationFrame( animate );\n        controls.update();\n        renderer.render( scene, camera );\n      };\n      window.addEventListener('resize', this.onWindowResize, false);\n      animate();\n    }\n\n    onWindowResize = () =>{\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    render() {\n      return (\n        <div ref={ref => (this.mount = ref)} />\n      )\n    }\n  }\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n\nReactDOM.render(<Menu scene={objectGroup} />, document.getElementById(\"menu\"));\n"],"sourceRoot":""}